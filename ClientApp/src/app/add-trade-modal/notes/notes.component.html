<div [formGroup]="tradeEntryForm" class="mt-4">
  <div class="flex flex-wrap items-center gap-2 mb-2">
    <span
      *ngFor="let tag of tags.controls; let i = index"
      class="inline-flex items-center text-sm font-medium rounded-full bg-amber-100 text-gray-800 px-3 py-1"
    >
      {{ tag.value.name }}
      <span
        class="ml-2 text-red-500 hover:text-red-700 font-bold cursor-pointer"
        (click)="removeTag(i)"
        >X</span
      >
    </span>

    <div class="relative" #tagInputContainer>
      <input
        type="text"
        [formControl]="this.tagEntryControl"
        name="tagEntry"
        (keydown.enter)="onAddTag()"
        (focus)="showTagSuggestions = true"
        placeholder="Add tag..."
        list="existing-tags-list"
        class="text-sm px-2 py-1 border border-amber-300 rounded-full focus:outline-none focus:ring-2 focus:ring-amber-400"
      />
      <div
        *ngIf="showTagSuggestions && existingTags.length > 0"
        class="absolute z-10 mt-1 w-full bg-white border border-gray-300 rounded-md shadow-md max-h-48 overflow-y-auto"
      >
        <div
          *ngFor="let tag of existingTags"
          class="px-4 py-2 text-sm cursor-pointer hover:bg-amber-100"
          (click)="selectTag(tag)"
        >
          {{ tag.name }}
        </div>
      </div>
    </div>
  </div>
  <quill-editor
    class="w-full h-30"
    formControlName="notes"
    [modules]="{ toolbar: false }"
    [placeholder]="'Enter notes on this trade...'"
  ></quill-editor>
</div>
